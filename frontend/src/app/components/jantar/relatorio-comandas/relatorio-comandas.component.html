<div class="relatorio-container">
  <div class="header-relatorio">
    <h2>ğŸ“Š RelatÃ³rio de Comandas do Restaurante</h2>
  </div>

  <!-- FILTROS -->
  <div class="filtros">
    <div class="filtro-grupo">
      <label>Data InÃ­cio:</label>
      <input type="date" [(ngModel)]="dataInicio" class="input-data">
    </div>
    
    <div class="filtro-grupo">
      <label>Data Fim:</label>
      <input type="date" [(ngModel)]="dataFim" class="input-data">
    </div>
    
    <button (click)="gerarRelatorio()" class="btn-gerar">
      ğŸ“Š Gerar RelatÃ³rio
    </button>
  </div>

  <!-- LOADING -->
  <div *ngIf="carregando" class="loading">
    â³ Gerando relatÃ³rio...
  </div>

  <!-- RELATÃ“RIO -->
  <div *ngIf="!carregando && relatorio" class="relatorio-content">
    
    <!-- RESUMO -->
    <div class="resumo">
      <div class="resumo-card">
        <h3>ğŸ“… PerÃ­odo</h3>
        <p>{{ relatorio.periodo.inicio | date:'dd/MM/yyyy' }} atÃ© {{ relatorio.periodo.fim | date:'dd/MM/yyyy' }}</p>
      </div>
      
      <div class="resumo-card">
        <h3>ğŸ“ Total de Comandas</h3>
        <p class="numero-grande">{{ relatorio.totalComandas }}</p>
      </div>
      
      <div class="resumo-card">
        <h3>ğŸ’° Total Geral</h3>
        <p class="valor-grande">R$ {{ relatorio.totalGeral.toFixed(2) }}</p>
      </div>
    </div>

    <!-- BOTÃƒO IMPRIMIR -->
    <div class="acoes">
      <button (click)="imprimir()" class="btn-imprimir">
        ğŸ–¨ï¸ Imprimir RelatÃ³rio
      </button>
    </div>

    <!-- LISTA DE COMANDAS -->
    <div class="comandas-lista">
      <h3>Comandas Detalhadas:</h3>
      
      <div *ngFor="let comanda of relatorio.comandas; let i = index" class="comanda-card">
        <div class="comanda-header">
  <div class="comanda-info">
    <span class="comanda-numero">Comanda #{{ comanda.notaId }}</span>
    <span class="comanda-data">{{ comanda.dataHora | date:'dd/MM/yyyy HH:mm' }}</span>
  </div>
  <div class="comanda-acoes">
    <span class="comanda-total">R$ {{ comanda.total.toFixed(2) }}</span>
    <a [routerLink]="['/comanda-impressao', comanda.notaId]" 
       target="_blank"
       class="btn-imprimir-comanda">
      ğŸ–¨ï¸ Imprimir
    </a>
  </div>
</div>
        
        <div class="comanda-body">
          <div class="info-linha">
            <strong>ğŸ¢ Apartamento:</strong> {{ comanda.apartamento }}
          </div>
          <div class="info-linha">
            <strong>ğŸ‘¤ Cliente:</strong> {{ comanda.cliente }}
          </div>
          <div *ngIf="comanda.observacao" class="info-linha">
            <strong>ğŸ“ Obs:</strong> {{ comanda.observacao }}
          </div>
          
          <!-- ITENS -->
          <div class="itens-tabela">
            <table>
              <thead>
                <tr>
                  <th>Produto</th>
                  <th class="text-center">Qtd</th>
                  <th class="text-right">Vlr Unit.</th>
                  <th class="text-right">Total</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of comanda.itens">
                  <td>{{ item.produto }}</td>
                  <td class="text-center">{{ item.quantidade }}</td>
                  <td class="text-right">R$ {{ item.valorUnitario.toFixed(2) }}</td>
                  <td class="text-right">R$ {{ item.total.toFixed(2) }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- MENSAGEM SE VAZIO -->
    <div *ngIf="relatorio.totalComandas === 0" class="vazio">
      ğŸ˜´ Nenhuma comanda encontrada no perÃ­odo selecionado
    </div>
  </div>
</div>